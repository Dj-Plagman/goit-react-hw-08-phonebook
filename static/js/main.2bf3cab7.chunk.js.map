{"version":3,"sources":["redux/selectors.js","redux/operation.js","redux/slice.js","Components/UserMenu/UserMenu.js","Components/Private.js","Components/Restricted.js","Components/Filter/Filter.js","Components/ContactForm/ContactForm.js","Components/ContactsList/ContactItem.js","Components/ContactsList/ContactsList.js","Components/Contacts.js","Page/LoginPage.js","Page/HomePage.js","Page/SingupPage.js","App.js","redux/store.js","index.js","Components/UserMenu/UserMenu.module.css","Page/SingupPage.module.css","Page/LoginPage.module.css","Components/ContactForm/ContactForm.module.css","Components/ContactsList/ContactList.module.css","Components/Contacts.module.css","Page/HomePage.module.css","Components/Filter/Filter.module.css"],"names":["selectors","getFilter","state","filter","getUserName","auth","name","getIsLoggedIn","isLoggedIn","getToken","token","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","getState","set","tagTypes","endpoints","builder","signup","mutation","query","userData","url","method","body","login","logout","getUser","getContacts","providesTags","addContact","number","invalidatesTags","deleteContact","id","useSignupMutation","useLoginMutation","useLogoutMutation","useGetUserQuery","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","filterSlice","createSlice","initialState","reducers","setFilter","action","payload","authSlice","setCredentials","user","setUser","setLogout","actions","UserMenu","dispatch","useDispatch","useSelector","userName","isLoading","navigate","useNavigate","Navbar","collapseOnSelect","expand","bg","variant","className","s","container","Brand","Nav","to","titleText","Button","onClick","disabled","userBtn","PrivateRoute","children","redirectTo","RestrictedRoute","Filter","filterInputId","shortid","generate","htmlFor","type","value","filterInput","pattern","title","onChange","e","currentTarget","ContactForm","useState","setName","setNumber","nameInputId","useRef","numberInputId","onSubmit","preventDefault","formInput","required","formBtn","color","height","width","ContactListItem","el","deleteIsLoading","contactDescription","deleteBtn","ContactList","data","contactsIsLoading","obj","toLowerCase","includes","map","Contacts","form","LoginPage","email","setEmail","password","setPassword","handleSubmit","a","unwrap","console","log","autoComplete","label","target","HomeView","SignupPage","autoFocus","App","useEffect","basename","path","element","HomePage","persistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","setupListeners","persistStore","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2bf3cab7.chunk.js","sourcesContent":["const getFilter = (state) => state.filter;\r\n\r\nconst getUserName = (state) => state.auth.name;\r\n\r\nconst getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\n\r\nconst getToken = (state) => state.auth.token;\r\n\r\nconst selectors = { getFilter, getUserName, getIsLoggedIn, getToken };\r\n\r\nexport default selectors;","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: \"contactsApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"https://connections-api.herokuapp.com\",\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.token;\r\n      if (token) {\r\n        headers.set(\"authorization\", `Bearer ${token}`);\r\n      }\r\n      return headers;\r\n    },\r\n  }),\r\n  tagTypes: [\"Contacts\"],\r\n  endpoints: (builder) => ({\r\n    signup: builder.mutation({\r\n      query: (userData) => ({\r\n        url: \"/users/signup\",\r\n        method: \"POST\",\r\n        body: userData,\r\n      }),\r\n    }),\r\n    login: builder.mutation({\r\n      query: (userData) => ({\r\n        url: \"/users/login\",\r\n        method: \"POST\",\r\n        body: userData,\r\n      }),\r\n    }),\r\n    logout: builder.mutation({\r\n      query: () => ({\r\n        url: \"/users/logout\",\r\n        method: \"POST\",\r\n      }),\r\n    }),\r\n    getUser: builder.query({\r\n      query: () => \"/users/current\",\r\n    }),\r\n    getContacts: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: [\"Contacts\"],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: ({ name, number }) => ({\r\n        url: \"/contacts\",\r\n        method: \"POST\",\r\n        body: { name, number },\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (id) => ({\r\n        url: `/contacts/${id}`,\r\n        method: \"DELETE\",\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useSignupMutation,\r\n  useLoginMutation,\r\n  useLogoutMutation,\r\n  useGetUserQuery,\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n} = contactsApi;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const filterSlice = createSlice({\r\n  name: \"filter\",\r\n  initialState: \"\",\r\n  reducers: {\r\n    setFilter: (state, action) => action.payload,\r\n  },\r\n});\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  token: \"\",\r\n  isLoggedIn: false,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setCredentials: (state, { payload: { user, token } }) => {\r\n      state.name = user.name;\r\n      state.token = token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    setUser: (state, { payload }) => {\r\n      state.name = payload.name;\r\n      state.isLoggedIn = true;\r\n    },\r\n    setLogout: (state, payload) => {\r\n      state.name = \"\";\r\n      state.token = \"\";\r\n      state.isLoggedIn = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setFilter } = filterSlice.actions;\r\nexport const { setCredentials, setUser, setLogout } = authSlice.actions;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\nimport selectors from \"../../redux/selectors\";\r\nimport { useLogoutMutation } from \"../../redux/operation\";\r\nimport { setLogout } from \"../../redux/slice\";\r\nimport s from \"./UserMenu.module.css\";\r\n\r\nfunction UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const isLoggedIn = useSelector(selectors.getIsLoggedIn);\r\n  const userName = useSelector(selectors.getUserName);\r\n  const [logout, { isLoading }] = useLogoutMutation();\r\n  const navigate = useNavigate();\r\n  const handleClick = () => {\r\n    logout();\r\n    dispatch(setLogout());\r\n  };\r\n  return (\r\n    <Navbar\r\n      collapseOnSelect\r\n      expand=\"lg\"\r\n      bg=\"dark\"\r\n      variant=\"dark\"\r\n      className={s.container}\r\n    >\r\n      <Navbar.Brand></Navbar.Brand>\r\n      <Nav className=\"mr-auto\">\r\n        <NavLink to=\"/\" className={s.name}>\r\n          Home\r\n        </NavLink>\r\n\r\n        <NavLink to=\"/contacts\" className={s.name}>\r\n          Contacts\r\n        </NavLink>\r\n      </Nav>\r\n\r\n      {isLoggedIn ? (\r\n        <div>\r\n          <span className={s.titleText}>Welcome {userName}!</span>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={handleClick}\r\n            disabled={isLoading}\r\n            className={s.userBtn}\r\n          >\r\n            Log Out\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <Nav>\r\n          <Button\r\n            variant=\"light\"\r\n            className=\"mx-3\"\r\n            onClick={() => navigate(\"/login\")}\r\n            className={s.userBtn}\r\n          >\r\n            Log In\r\n          </Button>\r\n          <Button className={s.userBtn} onClick={() => navigate(\"/signup\")}>Sign up</Button>\r\n        </Nav>\r\n      )}\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default UserMenu;","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router\";\r\nimport selectors from \"../redux/selectors\";\r\n\r\nexport default function PrivateRoute({ children, redirectTo = \"/\" }) {\r\n  const isLoggedIn = useSelector(selectors.getIsLoggedIn);\r\n  return isLoggedIn ? children : <Navigate to={redirectTo} />;\r\n}","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router\";\r\nimport selectors from \"../redux/selectors\";\r\n\r\nexport default function RestrictedRoute({ children, redirectTo = \"/\" }) {\r\n  const isLoggedIn = useSelector(selectors.getIsLoggedIn);\r\n  return !isLoggedIn ? children : <Navigate to={redirectTo} />;\r\n}","import shortid from \"shortid\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setFilter } from \"../../redux/slice\";\r\nimport selectors from \"../../redux/selectors\";\r\nimport s from \"./Filter.module.css\";\r\n\r\nfunction Filter() {\r\n  const dispatch = useDispatch();\r\n  const filter = useSelector(selectors.getFilter);\r\n  const filterInputId = shortid.generate();\r\n  return (\r\n    <div>\r\n      <label htmlFor={filterInputId}>Find contacts by name</label>\r\n      <input\r\n        id={filterInputId}\r\n        type=\"text\"\r\n        name=\"filter\"\r\n        value={filter}\r\n        className={s.filterInput}\r\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Casnumbermore d'Artagnan и т. п.\"\r\n        onChange={(e) => dispatch(setFilter(e.currentTarget.value))}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;","import { useState, useRef } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useAddContactMutation } from \"../../redux/operation\";\r\nimport s from \"./ContactForm.module.css\";\r\n\r\nfunction ContactForm() {\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const nameInputId = useRef(shortid.generate());\r\n  const numberInputId = useRef(shortid.generate());\r\n  const [addContact, { isLoading }] = useAddContactMutation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    addContact({ name, number });\r\n    setName(\"\");\r\n    setNumber(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label htmlFor={nameInputId}>Name</label>\r\n        <input\r\n          id={nameInputId}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          className={s.formInput}\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Casnumbermore d'Artagnan и т. п.\"\r\n          required\r\n          onChange={(e) => {\r\n            setName(e.currentTarget.value);\r\n          }}\r\n        />\r\n        <label htmlFor={numberInputId}>Number</label>\r\n        <input\r\n          id={numberInputId}\r\n          type=\"tel\"\r\n          name=\"number\"\r\n          value={number}\r\n          className={s.formInput}\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n          onChange={(e) => {\r\n            setNumber(e.currentTarget.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        className={s.formBtn}\r\n        disabled={isLoading}\r\n      >\r\n        {isLoading ? (\r\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={20} width={85} />\r\n        ) : (\r\n          \"Add contact\"\r\n        )}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ContactForm;","import Loader from \"react-loader-spinner\";\r\nimport { useDeleteContactMutation } from \"../../redux/operation\";\r\nimport s from \"./ContactList.module.css\";\r\n\r\nexport default function ContactListItem({ el }) {\r\n  const [deleteContact, { isLoading: deleteIsLoading }] =\r\n    useDeleteContactMutation();\r\n  return (\r\n    <p className={s.contactDescription} >\r\n      {el.name}: {el.number}\r\n      <button\r\n        type=\"button\"\r\n        className={s.deleteBtn}\r\n        data-id={el.id}\r\n        onClick={() => {\r\n          deleteContact(el.id);\r\n        }}\r\n        disabled={deleteIsLoading}\r\n      >\r\n        {deleteIsLoading ? (\r\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={15} width={45} />\r\n        ) : (\r\n          \"Delete\"\r\n        )}\r\n      </button>\r\n    </p>\r\n  );\r\n}","import { useSelector } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useGetContactsQuery } from \"../../redux/operation\";\r\nimport ContactListItem from \"./ContactItem\";\r\nimport selectors from \"../../redux/selectors\";\r\n//import s from \"./ContactList.module.css\";\r\n\r\nfunction ContactList() {\r\n  const filter = useSelector(selectors.getFilter);\r\n  const { data, isLoading: contactsIsLoading } = useGetContactsQuery();\r\n  return (\r\n    <div>\r\n      {contactsIsLoading && (\r\n        <Loader type=\"TailSpin\" color=\"#00BFFF\" height={100} width={100} />\r\n      )}\r\n      {data &&\r\n        data\r\n          .filter((obj) =>\r\n            obj.name.toLowerCase().includes(filter.toLowerCase())\r\n          )\r\n          .map((el) => <ContactListItem key={el.id} el={el} />)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContactList;","import Filter from \"./Filter/Filter\";\r\nimport ContactForm from \"./ContactForm/ContactForm\";\r\nimport ContactList from \"./ContactsList/ContactsList\";\r\nimport s from \"./Contacts.module.css\";\r\n\r\nexport default function Contacts() {\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.form}>\r\n        <h1>Phonebook</h1>\r\n        <ContactForm />\r\n        <h2>Contacts</h2>\r\n        <Filter />\r\n        <ContactList />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useLoginMutation } from \"../redux/operation\";\r\nimport { setCredentials } from \"../redux/slice\";\r\nimport s from \"./LoginPage.module.css\";\r\n\r\nexport default function LoginPage() {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [login] = useLoginMutation();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const userData = await login({ email, password }).unwrap();\r\n      dispatch(setCredentials(userData));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n  return (\r\n    <div className={s.container}>\r\n      <form\r\n        className={s.form}\r\n        name=\"login_form\"\r\n        autoComplete=\"on\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2>Log In</h2>\r\n        <div>\r\n          <label className = {s.label}>\r\n            Email\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <label className = {s.label}>\r\n            Password\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button type=\"submit\">\r\n          Log In\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport s from \"./HomePage.module.css\";\r\n\r\nconst HomeView = () => (\r\n  <div className={s.container}>\r\n    <h1 className={s.title}>Welcome to your Phonebook</h1>\r\n  </div>\r\n);\r\n\r\nexport default HomeView;","import { useState } from \"react\";\r\nimport { useSignupMutation } from \"../redux/operation\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCredentials } from \"../redux/slice\";\r\nimport s from \"./SingupPage.module.css\";\r\n\r\nexport default function SignupPage() {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const signup = useSignupMutation();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const userData = await signup({ name, email, password }).unwrap();\r\n      dispatch(setCredentials(userData));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <form\r\n        name=\"signup_form\"\r\n        autoComplete=\"on\"\r\n        className={s.form}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2>Sign Up</h2>\r\n        <div>\r\n          <label className = {s.label}>\r\n            Name\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              className=\"form-control\"\r\n              value={name}\r\n              autoFocus\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <label className = {s.label}>\r\n            Email\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <label className = {s.label}>\r\n            Password\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}","import UserMenu from \"./Components/UserMenu/UserMenu\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport PrivateRoute from \"./Components/Private\";\r\nimport RestrictedRoute from \"./Components/Restricted\";\r\nimport Contacts from \"./Components/Contacts\";\r\nimport LoginPage from \"./Page/LoginPage\";\r\nimport HomePage from \"./Page/HomePage\";\r\nimport SignupPage from \"./Page/SingupPage\";\r\nimport { useEffect } from \"react\";\r\nimport { useGetUserQuery } from \"./redux/operation\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setUser } from \"./redux/slice\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const { data } = useGetUserQuery();\r\n\r\n  useEffect(() => {\r\n    data && dispatch(setUser(data));\r\n  }, [data, dispatch]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <BrowserRouter basename=\"/goit-react-hw-08-phonebook\">\r\n        <UserMenu />\r\n        <Routes>\r\n          <Route path=\"/\" element={<HomePage />} />\r\n          <Route\r\n            path=\"contacts\"\r\n            element={\r\n              <PrivateRoute redirectTo=\"/login\">\r\n                <Contacts />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"login\"\r\n            element={\r\n              <RestrictedRoute>\r\n                {<LoginPage />}\r\n              </RestrictedRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"signup\"\r\n            element={\r\n              <RestrictedRoute>\r\n                {<SignupPage />}\r\n              </RestrictedRoute>\r\n            }\r\n          />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/dist/query\";\r\nimport {\r\n  persistStore,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport persistReducer from \"redux-persist/es/persistReducer\";\r\nimport { filterSlice, authSlice } from \"./slice\";\r\nimport { contactsApi } from \"./operation\";\r\n\r\nconst persistConfig = {\r\n  key: \"contacts\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n    filter: filterSlice.reducer,\r\n    auth: persistReducer(persistConfig, authSlice.reducer),\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }).concat(contactsApi.middleware),\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport const persistor = persistStore(store);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { store } from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2IPA-\",\"name\":\"UserMenu_name__2RtjI\",\"titleText\":\"UserMenu_titleText__I6fI1\",\"userBtn\":\"UserMenu_userBtn__1jbr-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SingupPage_container__1bfQf\",\"form\":\"SingupPage_form__14Pq2\",\"label\":\"SingupPage_label__1hLRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"LoginPage_label__2yAv5\",\"container\":\"LoginPage_container__pio_d\",\"form\":\"LoginPage_form__8yraF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formInput\":\"ContactForm_formInput__3d6v-\",\"formBtn\":\"ContactForm_formBtn__3H10J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactList\":\"ContactList_contactList__mTUa1\",\"contactItem\":\"ContactList_contactItem__2i6x3\",\"contactDescription\":\"ContactList_contactDescription__1r_L2\",\"deleteBtn\":\"ContactList_deleteBtn__1mrTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Contacts_label__2U3rI\",\"container\":\"Contacts_container__MPjDC\",\"form\":\"Contacts_form__1slIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__3r0Vk\",\"title\":\"HomePage_title__1pBH6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterInput\":\"Filter_filterInput__1yxfO\"};"],"sourceRoot":""}